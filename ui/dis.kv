<MainWindow>:
    Minimap
    RV
    ArrowRenderer
    
    GotoPosition:
        id: goto_position
        opacity: 0
        disabled: True
        size_hint: None, None
        width: dp(240)
        height: self.minimum_height
        pos_hint: { "center_x": 0.5, "top": 1 }

<ArrowRenderer>:
    size_hint: None, 1
    width: dp(15) * 12
    pos_hint: { "left": 1, "top": 1 }

<Minimap>:
    size_hint: None, 1
    width: dp(15)
    pos_hint: { "right": 1, "top": 1 }

<RV>:
    id: disassembler_view
    size_hint: 1, 1
    bar_width: dp(15)
    scroll_wheel_distance: 50
    scroll_type: ['bars']
    viewclass: 'SectionPanel'

    RecycleBoxLayout:
        size_hint: None, None
        height: self.minimum_height
        orientation: 'vertical'

<SectionPanel>:
    padding: 0
    size_hint: None, None
    orientation: 'vertical'
    #canvas.before:
    #    Color:
    #        rgba: 1, 0, 0, 1
    #    Line:
    #        width: 2
    #        rectangle: self.x, self.y, self.width, self.height

<InvalidInsnPopup>:
    auto_dismiss: False
    title: "Invalid instruction"
    size_hint: None, None
    width: dp(300)
    height: dp(200)

    BoxLayout:
        orientation: 'vertical'
        Label:
            text: f"Hit an invalid instruction at {root.instruction:X}.\nYou can discard the active disassembly or keep the changes."
            text_size: self.width, None
            size_hint_y: 1
            height: self.texture_size[1]
            halign: 'center'
            valign: 'top'

        BoxLayout:
            size_hint: 1, None
            height: dp(40)
            Button:
                text: "Discard"
                on_release: root.dispatch("on_close")
            Button:
                text: "Keep"
                on_release: root.dispatch("on_continue")